# Chinook Crate Restriction Plugin

Плагин для Rust сервера, который блокирует команду `chinooklockedcrate` (и `codelockedhackablecrate`) после уничтожения транспортных средств.

## Описание

Этот плагин отслеживает уничтожение следующих транспортных средств:
- `minicopter` - Мини-вертолет
- `hotairballoon` - Воздушный шар
- `transporthelicopter` - Транспортный вертолет
- `attackhelicopter` - Боевой вертолет

После уничтожения любого из этих транспортных средств игроком, команды связанные с Chinook ящиками блокируются на определенное время.

## Установка

1. Скопируйте файл `ChinookCrateRestriction.cs` в папку `oxide/plugins/` на вашем сервере
2. Скопируйте файл `ChinookCrateRestriction.json` в папку `oxide/config/` (опционально, для настройки)
3. Перезагрузите плагин командой `o.reload ChinookCrateRestriction` или перезапустите сервер

## Конфигурация

```json
{
  "EnableRestriction": true,
  "RestrictionDurationMinutes": 10,
  "RestrictedVehicles": [
    "minicopter",
    "hotairballoon", 
    "transporthelicopter",
    "attackhelicopter"
  ],
  "RestrictionMessage": "Chinook locked crate is temporarily restricted after transport vehicle destruction.",
  "NotifyOnRestriction": true
}
```

### Параметры конфигурации:

- `EnableRestriction` - Включить/выключить ограничение (true/false)
- `RestrictionDurationMinutes` - Длительность ограничения в минутах (по умолчанию 10)
- `RestrictedVehicles` - Список транспортных средств, при уничтожении которых применяется ограничение
- `RestrictionMessage` - Сообщение, показываемое игроку при попытке использовать заблокированную команду
- `NotifyOnRestriction` - Уведомлять игрока о применении ограничения (true/false)

## Команды

### Для игроков:
- `chinookrestriction.check` - Проверить статус ограничения

### Для администраторов:
- `chinookrestriction.clear` - Очистить все ограничения
- `chinookrestriction.clear <игрок>` - Очистить ограничение для конкретного игрока

## Функциональность

1. **Отслеживание уничтожения транспорта**: Плагин автоматически отслеживает когда игрок уничтожает любое из указанных транспортных средств.

2. **Блокировка команд**: После уничтожения транспорта блокируются команды:
   - `chinooklockedcrate`
   - `codelockedhackablecrate`

3. **Временное ограничение**: Ограничение действует в течение настраиваемого времени (по умолчанию 10 минут).

4. **Уведомления**: Игрок получает уведомления о применении и оставшемся времени ограничения.

5. **Администрирование**: Администраторы могут очищать ограничения через консольные команды.

## Логирование

Плагин записывает в лог сервера информацию о:
- Применении ограничений
- Очистке ограничений администраторами
- Загрузке и выгрузке плагина

## Совместимость

Плагин совместим с:
- Oxide/uMod
- Carbon (возможна совместимость)
- Стандартными командами Rust

## Версия

Версия: 1.0.0
Автор: RustGPT